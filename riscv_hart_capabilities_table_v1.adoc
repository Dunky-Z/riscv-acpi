[.text-center]
*RISC-V Hart Capabilities Table (RHCT)*

[.text-center]
#**_DRAFT FOR REVIEW_**#

RISC-V supports many optional features. Different hardware implementations can
support different features. The Operating System will need to know what features
are implemented in the RISC-V Processor a.k.a Hart.

This table provides information about the features implemented in the Hart.
There will be only one table in the system which describes all the harts.

.RISC-V Hart Capabilities Table (RHCT)
|===
|*Field*|*Byte Length*|*Byte Offset*|*Description*

|- Signature|4|0|RHCT signature for the RISC-V Hart Capabilities Table
|- Length|4|4|The length of the table, in bytes, of the entire RHCT
|- Revision|1|8|The revision of the structure corresponding to the signature
field for this table. For the RHCT confirming this revision of the specification, the revision is 1.
|- Checksum|1|9|The entire table must sum to zero
|- OEMID|6|10|
|- OEM Table ID|8|16|
|- OEM Revision|4|24|
|- Creator ID|4|28|
|- Creator Revision|4|32|
|- Flags|4|36|See Table 2 below.
|- Hart Capability Information Structure[N]|-|40|List of capability Structures. This is per HART. See Table 2. If the harts in the system are identical, then this list will have only one element of boot hart. The OS should assume the same data for all the harts in the system.
|===

.Flags
|===
|*Field Name*|*Bit Length*|*Bit Offset*|*Description*

|- Identical Harts|1|0|A one indicates the system has identical harts with the same capabilities. This means the number of hart capability information structures is 1 and that of the boot Hart ID. The ACPI processor ID will be that of the boot hart. The OS should assume same properties for all the harts in the system.
|- Reserved|31|1|Reserved for future use
|===

.HART Capability Information Structure
|===
|*Field*|*Byte Length*|*Byte Offset*|*Description*

|- Length|2|0|Length of this structure
|- Revision|1|2|1 - for this version
|- Reserved|1|3|
|- ACPI Processor ID|4|4|
|- Instruction Set Supported|4|8|Bits [25:0] encodes the presence of RISC-V standard extensions, which is equivalent to bits [25:0] in RISC-V Machine ISA Register (*misa* CSR). Bits set to one mean the certain extensions of the instruction set are supported on this hart.
|- Misc hart capabilities|4|12|Revisit - These are capabilities that donâ€™t have an extension assigned. See Table 4 for details.
|===

.Misc Hart capabilities
|===
|*Field Name*|*Bit Length*|*Bit Offset*|*Description*

|- MMU Type|4|0|MMU Type - (REVISIT- Should move to extension list)
                
                0 - Sv39
                
                1 - Sv48
                
                2 - Sv57
                
                3 - Sv64
|- Reserved|28|4|Reserved for future use
|===
